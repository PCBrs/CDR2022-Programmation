ARM GAS  C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"ld06.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.global	__aeabi_i2d
  18              		.global	__aeabi_dmul
  19              		.global	__aeabi_d2f
  20              		.section	.text.readLidarData,"ax",%progbits
  21              		.align	1
  22              		.global	readLidarData
  23              		.arch armv7e-m
  24              		.syntax unified
  25              		.thumb
  26              		.thumb_func
  27              		.fpu fpv4-sp-d16
  29              	readLidarData:
  30              	.LVL0:
  31              	.LFB126:
  32              		.file 1 "Core/Src/ld06.c"
   1:Core/Src/ld06.c **** #include "main.h"
   2:Core/Src/ld06.c **** 
   3:Core/Src/ld06.c **** 
   4:Core/Src/ld06.c **** void readLidarData(UART_HandleTypeDef *huart,LD06 *lidar, uint8_t *buffer){
  33              		.loc 1 4 75 view -0
  34              		.cfi_startproc
  35              		@ args = 0, pretend = 0, frame = 8
  36              		@ frame_needed = 0, uses_anonymous_args = 0
  37              		.loc 1 4 75 is_stmt 0 view .LVU1
  38 0000 30B5     		push	{r4, r5, lr}
  39              	.LCFI0:
  40              		.cfi_def_cfa_offset 12
  41              		.cfi_offset 4, -12
  42              		.cfi_offset 5, -8
  43              		.cfi_offset 14, -4
  44 0002 83B0     		sub	sp, sp, #12
  45              	.LCFI1:
  46              		.cfi_def_cfa_offset 24
  47 0004 0C46     		mov	r4, r1
  48 0006 0192     		str	r2, [sp, #4]
   5:Core/Src/ld06.c ****     
   6:Core/Src/ld06.c ****     uint8_t datalen=0;
  49              		.loc 1 6 5 is_stmt 1 view .LVU2
  50              	.LVL1:
   7:Core/Src/ld06.c ****     
   8:Core/Src/ld06.c ****      
ARM GAS  C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s 			page 2


   9:Core/Src/ld06.c ****     if(&buffer==0x54)//SOF
  51              		.loc 1 9 5 view .LVU3
  52              		.loc 1 9 7 is_stmt 0 view .LVU4
  53 0008 02AB     		add	r3, sp, #8
  54 000a 582B     		cmp	r3, #88
  55 000c 0BD0     		beq	.L20
  56              	.L2:
  10:Core/Src/ld06.c ****     lidar->state=0;
  11:Core/Src/ld06.c **** 
  12:Core/Src/ld06.c ****     switch (lidar->state)
  57              		.loc 1 12 5 is_stmt 1 view .LVU5
  58              		.loc 1 12 18 is_stmt 0 view .LVU6
  59 000e 2578     		ldrb	r5, [r4]	@ zero_extendqisi2
  60 0010 6B1E     		subs	r3, r5, #1
  61 0012 0A2B     		cmp	r3, #10
  62 0014 0ED8     		bhi	.L1
  63 0016 DFE803F0 		tbb	[pc, r3]
  64              	.LVL2:
  65              	.L5:
  66 001a 09       		.byte	(.L15-.L5)/2
  67 001b 0F       		.byte	(.L14-.L5)/2
  68 001c 14       		.byte	(.L13-.L5)/2
  69 001d 23       		.byte	(.L12-.L5)/2
  70 001e 28       		.byte	(.L11-.L5)/2
  71 001f 3B       		.byte	(.L10-.L5)/2
  72 0020 5D       		.byte	(.L9-.L5)/2
  73 0021 63       		.byte	(.L8-.L5)/2
  74 0022 79       		.byte	(.L7-.L5)/2
  75 0023 7F       		.byte	(.L6-.L5)/2
  76 0024 90       		.byte	(.L4-.L5)/2
  77 0025 00       		.p2align 1
  78              	.L20:
  10:Core/Src/ld06.c ****     lidar->state=0;
  79              		.loc 1 10 5 is_stmt 1 view .LVU7
  10:Core/Src/ld06.c ****     lidar->state=0;
  80              		.loc 1 10 17 is_stmt 0 view .LVU8
  81 0026 0023     		movs	r3, #0
  82 0028 0B70     		strb	r3, [r1]
  83 002a F0E7     		b	.L2
  84              	.LVL3:
  85              	.L15:
  13:Core/Src/ld06.c ****     {
  14:Core/Src/ld06.c ****     case 1://data length
  15:Core/Src/ld06.c ****         lidar->dataLength = &buffer;
  86              		.loc 1 15 9 is_stmt 1 view .LVU9
  87              		.loc 1 15 27 is_stmt 0 view .LVU10
  88 002c 01AB     		add	r3, sp, #4
  89 002e 6360     		str	r3, [r4, #4]
  16:Core/Src/ld06.c ****         lidar->state++;
  90              		.loc 1 16 9 is_stmt 1 view .LVU11
  91              		.loc 1 16 21 is_stmt 0 view .LVU12
  92 0030 0135     		adds	r5, r5, #1
  93 0032 2570     		strb	r5, [r4]
  17:Core/Src/ld06.c ****         break;
  94              		.loc 1 17 9 is_stmt 1 view .LVU13
  95              	.LVL4:
  96              	.L1:
ARM GAS  C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s 			page 3


  18:Core/Src/ld06.c ****     case 2:// radarspeed lsb
  19:Core/Src/ld06.c ****         lidar->radarSpeedL = buffer;
  20:Core/Src/ld06.c ****         lidar->state++;
  21:Core/Src/ld06.c ****         break;
  22:Core/Src/ld06.c ****     case 3://radarspeed msb
  23:Core/Src/ld06.c ****         lidar->radarSpeedH = &buffer;
  24:Core/Src/ld06.c ****         lidar->radarSpeed= lidar->radarSpeedH <<8 + lidar->radarSpeedL;
  25:Core/Src/ld06.c ****         lidar->state++;
  26:Core/Src/ld06.c ****         break;
  27:Core/Src/ld06.c ****     case 4:// starting angle lsb
  28:Core/Src/ld06.c ****         lidar->startAngleL = buffer;
  29:Core/Src/ld06.c ****         lidar->state++;
  30:Core/Src/ld06.c ****         break;
  31:Core/Src/ld06.c ****     case 5: //starting angle msb
  32:Core/Src/ld06.c ****         lidar->startAngleH = buffer;
  33:Core/Src/ld06.c ****         lidar->startAngle = (lidar->startAngleH<<8 + lidar->startAngleL) * 0.01;
  34:Core/Src/ld06.c ****         lidar->state++;
  35:Core/Src/ld06.c ****         break;
  36:Core/Src/ld06.c ****     case 6: //distance
  37:Core/Src/ld06.c ****         if(lidar->dataLength!=datalen){
  38:Core/Src/ld06.c ****             lidar->data[datalen]=buffer;
  39:Core/Src/ld06.c ****             datalen++;
  40:Core/Src/ld06.c ****             break;
  41:Core/Src/ld06.c ****         }
  42:Core/Src/ld06.c ****         for(uint8_t i =0;i<lidar->dataLength*3;i++){ // a voir si Ã§a marche
  43:Core/Src/ld06.c ****             lidar->distance= lidar->data[i] + lidar->data[i+1]<<8;
  44:Core/Src/ld06.c ****             lidar->confidence = lidar->data[i+2];
  45:Core/Src/ld06.c ****         }
  46:Core/Src/ld06.c ****         lidar->state++;
  47:Core/Src/ld06.c ****         break;
  48:Core/Src/ld06.c ****     case 7: //end angle lsb
  49:Core/Src/ld06.c ****         lidar->endAngleL = buffer;
  50:Core/Src/ld06.c ****         lidar->state++;
  51:Core/Src/ld06.c ****         break;
  52:Core/Src/ld06.c ****     case 8: //end angle msb
  53:Core/Src/ld06.c ****         lidar->endAngleM= buffer;
  54:Core/Src/ld06.c ****         lidar->endAngle = (lidar->endAngleM << 8 + lidar->endAngleL) * 0.01;
  55:Core/Src/ld06.c ****         lidar->state++;
  56:Core/Src/ld06.c ****         break;
  57:Core/Src/ld06.c ****     case 9: //timestamp Lsb
  58:Core/Src/ld06.c ****         lidar->timestampL = buffer;
  59:Core/Src/ld06.c ****         lidar->state++;
  60:Core/Src/ld06.c ****         break;
  61:Core/Src/ld06.c ****     case 10: //timestamp Msb
  62:Core/Src/ld06.c ****         lidar->timestampM = buffer;
  63:Core/Src/ld06.c ****         lidar->timestamp = (lidar->timestampM<<8 + lidar->timestampL);
  64:Core/Src/ld06.c ****         lidar->state++;
  65:Core/Src/ld06.c ****         break;
  66:Core/Src/ld06.c ****     case 11: //crc
  67:Core/Src/ld06.c ****         lidar->crcCheck = buffer;
  68:Core/Src/ld06.c ****         //uint8_t crc = CalCRC8(lidar->crcCheck,lidar->dataLength); 
  69:Core/Src/ld06.c ****         //crc not working
  70:Core/Src/ld06.c ****         
  71:Core/Src/ld06.c ****         lidar->state++;
  72:Core/Src/ld06.c ****         break;
  73:Core/Src/ld06.c ****     }
  74:Core/Src/ld06.c ****    
ARM GAS  C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s 			page 4


  75:Core/Src/ld06.c **** 
  76:Core/Src/ld06.c **** 
  77:Core/Src/ld06.c **** }
  97              		.loc 1 77 1 is_stmt 0 view .LVU14
  98 0034 03B0     		add	sp, sp, #12
  99              	.LCFI2:
 100              		.cfi_remember_state
 101              		.cfi_def_cfa_offset 12
 102              		@ sp needed
 103 0036 30BD     		pop	{r4, r5, pc}
 104              	.LVL5:
 105              	.L14:
 106              	.LCFI3:
 107              		.cfi_restore_state
  19:Core/Src/ld06.c ****         lidar->state++;
 108              		.loc 1 19 9 is_stmt 1 view .LVU15
  19:Core/Src/ld06.c ****         lidar->state++;
 109              		.loc 1 19 28 is_stmt 0 view .LVU16
 110 0038 019B     		ldr	r3, [sp, #4]
 111 003a 2373     		strb	r3, [r4, #12]
  20:Core/Src/ld06.c ****         break;
 112              		.loc 1 20 9 is_stmt 1 view .LVU17
  20:Core/Src/ld06.c ****         break;
 113              		.loc 1 20 21 is_stmt 0 view .LVU18
 114 003c 0135     		adds	r5, r5, #1
 115 003e 2570     		strb	r5, [r4]
  21:Core/Src/ld06.c ****     case 3://radarspeed msb
 116              		.loc 1 21 9 is_stmt 1 view .LVU19
 117 0040 F8E7     		b	.L1
 118              	.L13:
  23:Core/Src/ld06.c ****         lidar->radarSpeed= lidar->radarSpeedH <<8 + lidar->radarSpeedL;
 119              		.loc 1 23 9 view .LVU20
  23:Core/Src/ld06.c ****         lidar->radarSpeed= lidar->radarSpeedH <<8 + lidar->radarSpeedL;
 120              		.loc 1 23 28 is_stmt 0 view .LVU21
 121 0042 01AB     		add	r3, sp, #4
 122 0044 DBB2     		uxtb	r3, r3
 123 0046 6373     		strb	r3, [r4, #13]
  24:Core/Src/ld06.c ****         lidar->state++;
 124              		.loc 1 24 9 is_stmt 1 view .LVU22
  24:Core/Src/ld06.c ****         lidar->state++;
 125              		.loc 1 24 58 is_stmt 0 view .LVU23
 126 0048 227B     		ldrb	r2, [r4, #12]	@ zero_extendqisi2
  24:Core/Src/ld06.c ****         lidar->state++;
 127              		.loc 1 24 51 view .LVU24
 128 004a 0832     		adds	r2, r2, #8
  24:Core/Src/ld06.c ****         lidar->state++;
 129              		.loc 1 24 47 view .LVU25
 130 004c 9340     		lsls	r3, r3, r2
  24:Core/Src/ld06.c ****         lidar->state++;
 131              		.loc 1 24 26 view .LVU26
 132 004e 07EE903A 		vmov	s15, r3	@ int
 133 0052 F8EEE77A 		vcvt.f32.s32	s15, s15
 134 0056 C4ED027A 		vstr.32	s15, [r4, #8]
  25:Core/Src/ld06.c ****         break;
 135              		.loc 1 25 9 is_stmt 1 view .LVU27
  25:Core/Src/ld06.c ****         break;
 136              		.loc 1 25 21 is_stmt 0 view .LVU28
ARM GAS  C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s 			page 5


 137 005a 0135     		adds	r5, r5, #1
 138 005c 2570     		strb	r5, [r4]
  26:Core/Src/ld06.c ****     case 4:// starting angle lsb
 139              		.loc 1 26 9 is_stmt 1 view .LVU29
 140 005e E9E7     		b	.L1
 141              	.L12:
  28:Core/Src/ld06.c ****         lidar->state++;
 142              		.loc 1 28 9 view .LVU30
  28:Core/Src/ld06.c ****         lidar->state++;
 143              		.loc 1 28 28 is_stmt 0 view .LVU31
 144 0060 019B     		ldr	r3, [sp, #4]
 145 0062 2375     		strb	r3, [r4, #20]
  29:Core/Src/ld06.c ****         break;
 146              		.loc 1 29 9 is_stmt 1 view .LVU32
  29:Core/Src/ld06.c ****         break;
 147              		.loc 1 29 21 is_stmt 0 view .LVU33
 148 0064 0135     		adds	r5, r5, #1
 149 0066 2570     		strb	r5, [r4]
  30:Core/Src/ld06.c ****     case 5: //starting angle msb
 150              		.loc 1 30 9 is_stmt 1 view .LVU34
 151 0068 E4E7     		b	.L1
 152              	.L11:
  32:Core/Src/ld06.c ****         lidar->startAngle = (lidar->startAngleH<<8 + lidar->startAngleL) * 0.01;
 153              		.loc 1 32 9 view .LVU35
  32:Core/Src/ld06.c ****         lidar->startAngle = (lidar->startAngleH<<8 + lidar->startAngleL) * 0.01;
 154              		.loc 1 32 28 is_stmt 0 view .LVU36
 155 006a 9DF80400 		ldrb	r0, [sp, #4]	@ zero_extendqisi2
 156              	.LVL6:
  32:Core/Src/ld06.c ****         lidar->startAngle = (lidar->startAngleH<<8 + lidar->startAngleL) * 0.01;
 157              		.loc 1 32 28 view .LVU37
 158 006e 6075     		strb	r0, [r4, #21]
  33:Core/Src/ld06.c ****         lidar->state++;
 159              		.loc 1 33 9 is_stmt 1 view .LVU38
  33:Core/Src/ld06.c ****         lidar->state++;
 160              		.loc 1 33 59 is_stmt 0 view .LVU39
 161 0070 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
  33:Core/Src/ld06.c ****         lidar->state++;
 162              		.loc 1 33 52 view .LVU40
 163 0072 0833     		adds	r3, r3, #8
  33:Core/Src/ld06.c ****         lidar->state++;
 164              		.loc 1 33 74 view .LVU41
 165 0074 9840     		lsls	r0, r0, r3
 166 0076 FFF7FEFF 		bl	__aeabi_i2d
 167              	.LVL7:
  33:Core/Src/ld06.c ****         lidar->state++;
 168              		.loc 1 33 74 view .LVU42
 169 007a 33A3     		adr	r3, .L21
 170 007c D3E90023 		ldrd	r2, [r3]
 171 0080 FFF7FEFF 		bl	__aeabi_dmul
 172              	.LVL8:
 173 0084 FFF7FEFF 		bl	__aeabi_d2f
 174              	.LVL9:
  33:Core/Src/ld06.c ****         lidar->state++;
 175              		.loc 1 33 27 view .LVU43
 176 0088 2061     		str	r0, [r4, #16]	@ float
  34:Core/Src/ld06.c ****         break;
 177              		.loc 1 34 9 is_stmt 1 view .LVU44
ARM GAS  C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s 			page 6


  34:Core/Src/ld06.c ****         break;
 178              		.loc 1 34 21 is_stmt 0 view .LVU45
 179 008a 0135     		adds	r5, r5, #1
 180 008c 2570     		strb	r5, [r4]
  35:Core/Src/ld06.c ****     case 6: //distance
 181              		.loc 1 35 9 is_stmt 1 view .LVU46
 182 008e D1E7     		b	.L1
 183              	.LVL10:
 184              	.L10:
  37:Core/Src/ld06.c ****             lidar->data[datalen]=buffer;
 185              		.loc 1 37 9 view .LVU47
  37:Core/Src/ld06.c ****             lidar->data[datalen]=buffer;
 186              		.loc 1 37 17 is_stmt 0 view .LVU48
 187 0090 6068     		ldr	r0, [r4, #4]
 188              	.LVL11:
  37:Core/Src/ld06.c ****             lidar->data[datalen]=buffer;
 189              		.loc 1 37 11 view .LVU49
 190 0092 E8B1     		cbz	r0, .L18
  38:Core/Src/ld06.c ****             datalen++;
 191              		.loc 1 38 13 is_stmt 1 view .LVU50
  38:Core/Src/ld06.c ****             datalen++;
 192              		.loc 1 38 33 is_stmt 0 view .LVU51
 193 0094 019B     		ldr	r3, [sp, #4]
 194 0096 2377     		strb	r3, [r4, #28]
  39:Core/Src/ld06.c ****             break;
 195              		.loc 1 39 13 is_stmt 1 view .LVU52
 196              	.LVL12:
  40:Core/Src/ld06.c ****         }
 197              		.loc 1 40 13 view .LVU53
 198 0098 CCE7     		b	.L1
 199              	.LVL13:
 200              	.L17:
 201              	.LBB2:
  43:Core/Src/ld06.c ****             lidar->confidence = lidar->data[i+2];
 202              		.loc 1 43 13 discriminator 3 view .LVU54
  43:Core/Src/ld06.c ****             lidar->confidence = lidar->data[i+2];
 203              		.loc 1 43 41 is_stmt 0 discriminator 3 view .LVU55
 204 009a E218     		adds	r2, r4, r3
 205 009c 127F     		ldrb	r2, [r2, #28]	@ zero_extendqisi2
  43:Core/Src/ld06.c ****             lidar->confidence = lidar->data[i+2];
 206              		.loc 1 43 60 discriminator 3 view .LVU56
 207 009e 591C     		adds	r1, r3, #1
  43:Core/Src/ld06.c ****             lidar->confidence = lidar->data[i+2];
 208              		.loc 1 43 58 discriminator 3 view .LVU57
 209 00a0 2144     		add	r1, r1, r4
 210 00a2 097F     		ldrb	r1, [r1, #28]	@ zero_extendqisi2
  43:Core/Src/ld06.c ****             lidar->confidence = lidar->data[i+2];
 211              		.loc 1 43 45 discriminator 3 view .LVU58
 212 00a4 0A44     		add	r2, r2, r1
  43:Core/Src/ld06.c ****             lidar->confidence = lidar->data[i+2];
 213              		.loc 1 43 63 discriminator 3 view .LVU59
 214 00a6 1202     		lsls	r2, r2, #8
  43:Core/Src/ld06.c ****             lidar->confidence = lidar->data[i+2];
 215              		.loc 1 43 28 discriminator 3 view .LVU60
 216 00a8 07EE902A 		vmov	s15, r2	@ int
 217 00ac F8EEE77A 		vcvt.f32.s32	s15, s15
 218 00b0 C4ED067A 		vstr.32	s15, [r4, #24]
ARM GAS  C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s 			page 7


  44:Core/Src/ld06.c ****         }
 219              		.loc 1 44 13 is_stmt 1 discriminator 3 view .LVU61
  44:Core/Src/ld06.c ****         }
 220              		.loc 1 44 46 is_stmt 0 discriminator 3 view .LVU62
 221 00b4 9A1C     		adds	r2, r3, #2
  44:Core/Src/ld06.c ****         }
 222              		.loc 1 44 44 discriminator 3 view .LVU63
 223 00b6 2244     		add	r2, r2, r4
 224 00b8 127F     		ldrb	r2, [r2, #28]	@ zero_extendqisi2
  44:Core/Src/ld06.c ****         }
 225              		.loc 1 44 31 discriminator 3 view .LVU64
 226 00ba 84F88020 		strb	r2, [r4, #128]
  42:Core/Src/ld06.c ****             lidar->distance= lidar->data[i] + lidar->data[i+1]<<8;
 227              		.loc 1 42 48 is_stmt 1 discriminator 3 view .LVU65
  42:Core/Src/ld06.c ****             lidar->distance= lidar->data[i] + lidar->data[i+1]<<8;
 228              		.loc 1 42 49 is_stmt 0 discriminator 3 view .LVU66
 229 00be 0133     		adds	r3, r3, #1
 230              	.LVL14:
  42:Core/Src/ld06.c ****             lidar->distance= lidar->data[i] + lidar->data[i+1]<<8;
 231              		.loc 1 42 49 discriminator 3 view .LVU67
 232 00c0 DBB2     		uxtb	r3, r3
 233              	.LVL15:
 234              	.L16:
  42:Core/Src/ld06.c ****             lidar->distance= lidar->data[i] + lidar->data[i+1]<<8;
 235              		.loc 1 42 26 is_stmt 1 discriminator 1 view .LVU68
  42:Core/Src/ld06.c ****             lidar->distance= lidar->data[i] + lidar->data[i+1]<<8;
 236              		.loc 1 42 45 is_stmt 0 discriminator 1 view .LVU69
 237 00c2 00EB4002 		add	r2, r0, r0, lsl #1
  42:Core/Src/ld06.c ****             lidar->distance= lidar->data[i] + lidar->data[i+1]<<8;
 238              		.loc 1 42 9 discriminator 1 view .LVU70
 239 00c6 9342     		cmp	r3, r2
 240 00c8 E7DB     		blt	.L17
 241              	.LBE2:
  46:Core/Src/ld06.c ****         break;
 242              		.loc 1 46 9 is_stmt 1 view .LVU71
  46:Core/Src/ld06.c ****         break;
 243              		.loc 1 46 21 is_stmt 0 view .LVU72
 244 00ca 0135     		adds	r5, r5, #1
 245 00cc 2570     		strb	r5, [r4]
  47:Core/Src/ld06.c ****     case 7: //end angle lsb
 246              		.loc 1 47 9 is_stmt 1 view .LVU73
 247 00ce B1E7     		b	.L1
 248              	.LVL16:
 249              	.L18:
 250              	.LBB3:
  42:Core/Src/ld06.c ****             lidar->distance= lidar->data[i] + lidar->data[i+1]<<8;
 251              		.loc 1 42 21 is_stmt 0 view .LVU74
 252 00d0 0023     		movs	r3, #0
 253 00d2 F6E7     		b	.L16
 254              	.LVL17:
 255              	.L9:
  42:Core/Src/ld06.c ****             lidar->distance= lidar->data[i] + lidar->data[i+1]<<8;
 256              		.loc 1 42 21 view .LVU75
 257              	.LBE3:
  49:Core/Src/ld06.c ****         lidar->state++;
 258              		.loc 1 49 9 is_stmt 1 view .LVU76
  49:Core/Src/ld06.c ****         lidar->state++;
ARM GAS  C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s 			page 8


 259              		.loc 1 49 26 is_stmt 0 view .LVU77
 260 00d4 019B     		ldr	r3, [sp, #4]
 261 00d6 84F88830 		strb	r3, [r4, #136]
  50:Core/Src/ld06.c ****         break;
 262              		.loc 1 50 9 is_stmt 1 view .LVU78
  50:Core/Src/ld06.c ****         break;
 263              		.loc 1 50 21 is_stmt 0 view .LVU79
 264 00da 0135     		adds	r5, r5, #1
 265 00dc 2570     		strb	r5, [r4]
  51:Core/Src/ld06.c ****     case 8: //end angle msb
 266              		.loc 1 51 9 is_stmt 1 view .LVU80
 267 00de A9E7     		b	.L1
 268              	.L8:
  53:Core/Src/ld06.c ****         lidar->endAngle = (lidar->endAngleM << 8 + lidar->endAngleL) * 0.01;
 269              		.loc 1 53 9 view .LVU81
  53:Core/Src/ld06.c ****         lidar->endAngle = (lidar->endAngleM << 8 + lidar->endAngleL) * 0.01;
 270              		.loc 1 53 25 is_stmt 0 view .LVU82
 271 00e0 9DF80400 		ldrb	r0, [sp, #4]	@ zero_extendqisi2
 272              	.LVL18:
  53:Core/Src/ld06.c ****         lidar->endAngle = (lidar->endAngleM << 8 + lidar->endAngleL) * 0.01;
 273              		.loc 1 53 25 view .LVU83
 274 00e4 84F88900 		strb	r0, [r4, #137]
  54:Core/Src/ld06.c ****         lidar->state++;
 275              		.loc 1 54 9 is_stmt 1 view .LVU84
  54:Core/Src/ld06.c ****         lidar->state++;
 276              		.loc 1 54 57 is_stmt 0 view .LVU85
 277 00e8 94F88830 		ldrb	r3, [r4, #136]	@ zero_extendqisi2
  54:Core/Src/ld06.c ****         lidar->state++;
 278              		.loc 1 54 50 view .LVU86
 279 00ec 0833     		adds	r3, r3, #8
  54:Core/Src/ld06.c ****         lidar->state++;
 280              		.loc 1 54 70 view .LVU87
 281 00ee 9840     		lsls	r0, r0, r3
 282 00f0 FFF7FEFF 		bl	__aeabi_i2d
 283              	.LVL19:
  54:Core/Src/ld06.c ****         lidar->state++;
 284              		.loc 1 54 70 view .LVU88
 285 00f4 14A3     		adr	r3, .L21
 286 00f6 D3E90023 		ldrd	r2, [r3]
 287 00fa FFF7FEFF 		bl	__aeabi_dmul
 288              	.LVL20:
 289 00fe FFF7FEFF 		bl	__aeabi_d2f
 290              	.LVL21:
  54:Core/Src/ld06.c ****         lidar->state++;
 291              		.loc 1 54 25 view .LVU89
 292 0102 C4F88400 		str	r0, [r4, #132]	@ float
  55:Core/Src/ld06.c ****         break;
 293              		.loc 1 55 9 is_stmt 1 view .LVU90
  55:Core/Src/ld06.c ****         break;
 294              		.loc 1 55 21 is_stmt 0 view .LVU91
 295 0106 0135     		adds	r5, r5, #1
 296 0108 2570     		strb	r5, [r4]
  56:Core/Src/ld06.c ****     case 9: //timestamp Lsb
 297              		.loc 1 56 9 is_stmt 1 view .LVU92
 298 010a 93E7     		b	.L1
 299              	.LVL22:
 300              	.L7:
ARM GAS  C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s 			page 9


  58:Core/Src/ld06.c ****         lidar->state++;
 301              		.loc 1 58 9 view .LVU93
  58:Core/Src/ld06.c ****         lidar->state++;
 302              		.loc 1 58 27 is_stmt 0 view .LVU94
 303 010c 019B     		ldr	r3, [sp, #4]
 304 010e 84F89030 		strb	r3, [r4, #144]
  59:Core/Src/ld06.c ****         break;
 305              		.loc 1 59 9 is_stmt 1 view .LVU95
  59:Core/Src/ld06.c ****         break;
 306              		.loc 1 59 21 is_stmt 0 view .LVU96
 307 0112 0135     		adds	r5, r5, #1
 308 0114 2570     		strb	r5, [r4]
  60:Core/Src/ld06.c ****     case 10: //timestamp Msb
 309              		.loc 1 60 9 is_stmt 1 view .LVU97
 310 0116 8DE7     		b	.L1
 311              	.L6:
  62:Core/Src/ld06.c ****         lidar->timestamp = (lidar->timestampM<<8 + lidar->timestampL);
 312              		.loc 1 62 9 view .LVU98
  62:Core/Src/ld06.c ****         lidar->timestamp = (lidar->timestampM<<8 + lidar->timestampL);
 313              		.loc 1 62 27 is_stmt 0 view .LVU99
 314 0118 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 315 011c 84F89130 		strb	r3, [r4, #145]
  63:Core/Src/ld06.c ****         lidar->state++;
 316              		.loc 1 63 9 is_stmt 1 view .LVU100
  63:Core/Src/ld06.c ****         lidar->state++;
 317              		.loc 1 63 57 is_stmt 0 view .LVU101
 318 0120 94F89020 		ldrb	r2, [r4, #144]	@ zero_extendqisi2
  63:Core/Src/ld06.c ****         lidar->state++;
 319              		.loc 1 63 50 view .LVU102
 320 0124 0832     		adds	r2, r2, #8
  63:Core/Src/ld06.c ****         lidar->state++;
 321              		.loc 1 63 46 view .LVU103
 322 0126 9340     		lsls	r3, r3, r2
  63:Core/Src/ld06.c ****         lidar->state++;
 323              		.loc 1 63 26 view .LVU104
 324 0128 07EE903A 		vmov	s15, r3	@ int
 325 012c F8EEE77A 		vcvt.f32.s32	s15, s15
 326 0130 C4ED237A 		vstr.32	s15, [r4, #140]
  64:Core/Src/ld06.c ****         break;
 327              		.loc 1 64 9 is_stmt 1 view .LVU105
  64:Core/Src/ld06.c ****         break;
 328              		.loc 1 64 21 is_stmt 0 view .LVU106
 329 0134 0135     		adds	r5, r5, #1
 330 0136 2570     		strb	r5, [r4]
  65:Core/Src/ld06.c ****     case 11: //crc
 331              		.loc 1 65 9 is_stmt 1 view .LVU107
 332 0138 7CE7     		b	.L1
 333              	.L4:
  67:Core/Src/ld06.c ****         //uint8_t crc = CalCRC8(lidar->crcCheck,lidar->dataLength); 
 334              		.loc 1 67 9 view .LVU108
  67:Core/Src/ld06.c ****         //uint8_t crc = CalCRC8(lidar->crcCheck,lidar->dataLength); 
 335              		.loc 1 67 25 is_stmt 0 view .LVU109
 336 013a 019B     		ldr	r3, [sp, #4]
 337 013c C4F89430 		str	r3, [r4, #148]
  71:Core/Src/ld06.c ****         break;
 338              		.loc 1 71 9 is_stmt 1 view .LVU110
  71:Core/Src/ld06.c ****         break;
ARM GAS  C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s 			page 10


 339              		.loc 1 71 21 is_stmt 0 view .LVU111
 340 0140 0135     		adds	r5, r5, #1
 341 0142 2570     		strb	r5, [r4]
  72:Core/Src/ld06.c ****     }
 342              		.loc 1 72 9 is_stmt 1 view .LVU112
 343              		.loc 1 77 1 is_stmt 0 view .LVU113
 344 0144 76E7     		b	.L1
 345              	.L22:
 346 0146 00BF     		.align	3
 347              	.L21:
 348 0148 7B14AE47 		.word	1202590843
 349 014c E17A843F 		.word	1065646817
 350              		.cfi_endproc
 351              	.LFE126:
 353              		.section	.text.CalCRC8,"ax",%progbits
 354              		.align	1
 355              		.global	CalCRC8
 356              		.syntax unified
 357              		.thumb
 358              		.thumb_func
 359              		.fpu fpv4-sp-d16
 361              	CalCRC8:
 362              	.LVL23:
 363              	.LFB127:
  78:Core/Src/ld06.c **** 
  79:Core/Src/ld06.c **** 
  80:Core/Src/ld06.c **** 
  81:Core/Src/ld06.c **** 
  82:Core/Src/ld06.c **** 
  83:Core/Src/ld06.c **** static const uint8_t CrcTable[256] = 
  84:Core/Src/ld06.c **** { 
  85:Core/Src/ld06.c ****         0x00, 0x4d, 0x9a, 0xd7, 0x79, 0x34, 0xe3, 
  86:Core/Src/ld06.c ****         0xae, 0xf2, 0xbf, 0x68, 0x25, 0x8b, 0xc6, 0x11, 0x5c, 0xa9, 0xe4, 0x33, 
  87:Core/Src/ld06.c ****         0x7e, 0xd0, 0x9d, 0x4a, 0x07, 0x5b, 0x16, 0xc1, 0x8c, 0x22, 0x6f, 0xb8, 
  88:Core/Src/ld06.c ****         0xf5, 0x1f, 0x52, 0x85, 0xc8, 0x66, 0x2b, 0xfc, 0xb1, 0xed, 0xa0, 0x77, 
  89:Core/Src/ld06.c ****         0x3a, 0x94, 0xd9, 0x0e, 0x43, 0xb6, 0xfb, 0x2c, 0x61, 0xcf, 0x82, 0x55, 
  90:Core/Src/ld06.c ****         0x18, 0x44, 0x09, 0xde, 0x93, 0x3d, 0x70, 0xa7, 0xea, 0x3e, 0x73, 0xa4, 
  91:Core/Src/ld06.c ****         0xe9, 0x47, 0x0a, 0xdd, 0x90, 0xcc, 0x81, 0x56, 0x1b, 0xb5, 0xf8, 0x2f, 
  92:Core/Src/ld06.c ****         0x62, 0x97, 0xda, 0x0d, 0x40, 0xee, 0xa3, 0x74, 0x39, 0x65, 0x28, 0xff, 
  93:Core/Src/ld06.c ****         0xb2, 0x1c, 0x51, 0x86, 0xcb, 0x21, 0x6c, 0xbb, 0xf6, 0x58, 0x15, 0xc2, 
  94:Core/Src/ld06.c ****         0x8f, 0xd3, 0x9e, 0x49, 0x04, 0xaa, 0xe7, 0x30, 0x7d, 0x88, 0xc5, 0x12, 
  95:Core/Src/ld06.c ****         0x5f, 0xf1, 0xbc, 0x6b, 0x26, 0x7a, 0x37, 0xe0, 0xad, 0x03, 0x4e, 0x99, 
  96:Core/Src/ld06.c ****         0xd4, 0x7c, 0x31, 0xe6, 0xab, 0x05, 0x48, 0x9f, 0xd2, 0x8e, 0xc3, 0x14, 
  97:Core/Src/ld06.c ****         0x59, 0xf7, 0xba, 0x6d, 0x20, 0xd5, 0x98, 0x4f, 0x02, 0xac, 0xe1, 0x36, 
  98:Core/Src/ld06.c ****         0x7b, 0x27, 0x6a, 0xbd, 0xf0, 0x5e, 0x13, 0xc4, 0x89, 0x63, 0x2e, 0xf9, 
  99:Core/Src/ld06.c ****         0xb4, 0x1a, 0x57, 0x80, 0xcd, 0x91, 0xdc, 0x0b, 0x46, 0xe8, 0xa5, 0x72, 
 100:Core/Src/ld06.c ****         0x3f, 0xca, 0x87, 0x50, 0x1d, 0xb3, 0xfe, 0x29, 0x64, 0x38, 0x75, 0xa2, 
 101:Core/Src/ld06.c ****         0xef, 0x41, 0x0c, 0xdb, 0x96, 0x42, 0x0f, 0xd8, 0x95, 0x3b, 0x76, 0xa1, 
 102:Core/Src/ld06.c ****         0xec, 0xb0, 0xfd, 0x2a, 0x67, 0xc9, 0x84, 0x53, 0x1e, 0xeb, 0xa6, 0x71, 
 103:Core/Src/ld06.c ****         0x3c, 0x92, 0xdf, 0x08, 0x45, 0x19, 0x54, 0x83, 0xce, 0x60, 0x2d, 0xfa, 
 104:Core/Src/ld06.c ****         0xb7, 0x5d, 0x10, 0xc7, 0x8a, 0x24, 0x69, 0xbe, 0xf3, 0xaf, 0xe2, 0x35, 
 105:Core/Src/ld06.c ****         0x78, 0xd6, 0x9b, 0x4c, 0x01, 0xf4, 0xb9, 0x6e, 0x23, 0x8d, 0xc0, 0x17, 
 106:Core/Src/ld06.c ****         0x5a, 0x06, 0x4b, 0x9c, 0xd1, 0x7f, 0x32, 0xe5, 0xa8 
 107:Core/Src/ld06.c **** }; 
 108:Core/Src/ld06.c **** uint8_t CalCRC8(uint8_t *p, uint8_t len) 
 109:Core/Src/ld06.c **** { 
 364              		.loc 1 109 1 is_stmt 1 view -0
ARM GAS  C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s 			page 11


 365              		.cfi_startproc
 366              		@ args = 0, pretend = 0, frame = 0
 367              		@ frame_needed = 0, uses_anonymous_args = 0
 368              		@ link register save eliminated.
 369              		.loc 1 109 1 is_stmt 0 view .LVU115
 370 0000 10B4     		push	{r4}
 371              	.LCFI4:
 372              		.cfi_def_cfa_offset 4
 373              		.cfi_offset 4, -4
 374 0002 0346     		mov	r3, r0
 110:Core/Src/ld06.c ****         uint8_t crc = 0; 
 375              		.loc 1 110 9 is_stmt 1 view .LVU116
 376              	.LVL24:
 111:Core/Src/ld06.c ****         uint16_t i; 
 377              		.loc 1 111 9 view .LVU117
 112:Core/Src/ld06.c ****  
 113:Core/Src/ld06.c ****         for (i = 0; i < len; i++) 
 378              		.loc 1 113 9 view .LVU118
 379              		.loc 1 113 16 is_stmt 0 view .LVU119
 380 0004 0022     		movs	r2, #0
 110:Core/Src/ld06.c ****         uint16_t i; 
 381              		.loc 1 110 17 view .LVU120
 382 0006 1046     		mov	r0, r2
 383              	.LVL25:
 384              	.L24:
 385              		.loc 1 113 21 is_stmt 1 discriminator 1 view .LVU121
 386              		.loc 1 113 23 is_stmt 0 discriminator 1 view .LVU122
 387 0008 8CB2     		uxth	r4, r1
 388              		.loc 1 113 9 discriminator 1 view .LVU123
 389 000a 9442     		cmp	r4, r2
 390 000c 07D9     		bls	.L27
 114:Core/Src/ld06.c ****         { 
 115:Core/Src/ld06.c ****                 crc = CrcTable[(crc ^ *p++) & 0xff]; 
 391              		.loc 1 115 17 is_stmt 1 discriminator 3 view .LVU124
 392              	.LVL26:
 393              		.loc 1 115 39 is_stmt 0 discriminator 3 view .LVU125
 394 000e 13F8014B 		ldrb	r4, [r3], #1	@ zero_extendqisi2
 395              	.LVL27:
 396              		.loc 1 115 45 discriminator 3 view .LVU126
 397 0012 4440     		eors	r4, r4, r0
 398              		.loc 1 115 21 discriminator 3 view .LVU127
 399 0014 0348     		ldr	r0, .L28
 400              	.LVL28:
 401              		.loc 1 115 21 discriminator 3 view .LVU128
 402 0016 005D     		ldrb	r0, [r0, r4]	@ zero_extendqisi2
 403              	.LVL29:
 113:Core/Src/ld06.c ****         { 
 404              		.loc 1 113 30 is_stmt 1 discriminator 3 view .LVU129
 113:Core/Src/ld06.c ****         { 
 405              		.loc 1 113 31 is_stmt 0 discriminator 3 view .LVU130
 406 0018 0132     		adds	r2, r2, #1
 407              	.LVL30:
 113:Core/Src/ld06.c ****         { 
 408              		.loc 1 113 31 discriminator 3 view .LVU131
 409 001a 92B2     		uxth	r2, r2
 410              	.LVL31:
 113:Core/Src/ld06.c ****         { 
ARM GAS  C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s 			page 12


 411              		.loc 1 113 31 discriminator 3 view .LVU132
 412 001c F4E7     		b	.L24
 413              	.L27:
 116:Core/Src/ld06.c ****         } 
 117:Core/Src/ld06.c ****  
 118:Core/Src/ld06.c ****         return crc; 
 119:Core/Src/ld06.c **** } ...
 414              		.loc 1 119 1 view .LVU133
 415 001e 5DF8044B 		ldr	r4, [sp], #4
 416              	.LCFI5:
 417              		.cfi_restore 4
 418              		.cfi_def_cfa_offset 0
 419 0022 7047     		bx	lr
 420              	.L29:
 421              		.align	2
 422              	.L28:
 423 0024 00000000 		.word	.LANCHOR0
 424              		.cfi_endproc
 425              	.LFE127:
 427              		.section	.rodata.CrcTable,"a"
 428              		.align	2
 429              		.set	.LANCHOR0,. + 0
 432              	CrcTable:
 433 0000 004D9AD7 		.ascii	"\000M\232\327y4\343\256\362\277h%\213\306\021\\\251"
 433      7934E3AE 
 433      F2BF6825 
 433      8BC6115C 
 433      A9
 434 0011 E4337ED0 		.ascii	"\3443~\320\235J\007[\026\301\214\"o\270\365\037R\205"
 434      9D4A075B 
 434      16C18C22 
 434      6FB8F51F 
 434      5285
 435 0023 C8662BFC 		.ascii	"\310f+\374\261\355\240w:\224\331\016C\266\373,a\317"
 435      B1EDA077 
 435      3A94D90E 
 435      43B6FB2C 
 435      61CF
 436 0035 82551844 		.ascii	"\202U\030D\011\336\223=p\247\352>s\244\351G\012\335"
 436      09DE933D 
 436      70A7EA3E 
 436      73A4E947 
 436      0ADD
 437 0047 90CC8156 		.ascii	"\220\314\201V\033\265\370/b\227\332\015@\356\243t9e"
 437      1BB5F82F 
 437      6297DA0D 
 437      40EEA374 
 437      3965
 438 0059 28FFB21C 		.ascii	"(\377\262\034Q\206\313!l\273\366X\025\302\217\323\236"
 438      5186CB21 
 438      6CBBF658 
 438      15C28FD3 
 438      9E
 439 006a 4904AAE7 		.ascii	"I\004\252\3470}\210\305\022_\361\274k&z7\340\255\003"
 439      307D88C5 
 439      125FF1BC 
 439      6B267A37 
ARM GAS  C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s 			page 13


 439      E0AD03
 440 007d 4E99D47C 		.ascii	"N\231\324|1\346\253\005H\237\322\216\303\024Y\367\272"
 440      31E6AB05 
 440      489FD28E 
 440      C31459F7 
 440      BA
 441 008e 6D20D598 		.ascii	"m \325\230O\002\254\3416{'j\275\360^\023\304\211c.\371"
 441      4F02ACE1 
 441      367B276A 
 441      BDF05E13 
 441      C489632E 
 442 00a3 B41A5780 		.ascii	"\264\032W\200\315\221\334\013F\350\245r?\312\207P\035"
 442      CD91DC0B 
 442      46E8A572 
 442      3FCA8750 
 442      1D
 443 00b4 B3FE2964 		.ascii	"\263\376)d8u\242\357A\014\333\226B\017\330\225;v\241"
 443      3875A2EF 
 443      410CDB96 
 443      420FD895 
 443      3B76A1
 444 00c7 ECB0FD2A 		.ascii	"\354\260\375*g\311\204S\036\353\246q<\222\337\010E\031"
 444      67C98453 
 444      1EEBA671 
 444      3C92DF08 
 444      4519
 445 00d9 5483CE60 		.ascii	"T\203\316`-\372\267]\020\307\212$i\276\363\257\3425"
 445      2DFAB75D 
 445      10C78A24 
 445      69BEF3AF 
 445      E235
 446 00eb 78D69B4C 		.ascii	"x\326\233L\001\364\271n#\215\300\027Z\006K\234\321\177"
 446      01F4B96E 
 446      238DC017 
 446      5A064B9C 
 446      D17F
 447 00fd 32E5A8   		.ascii	"2\345\250"
 448              		.text
 449              	.Letext0:
 450              		.file 2 "c:\\users\\pierre-anthony\\.vscode\\extensions\\buzzyelectronics.stm-helper-1.2.9\\armgcc
 451              		.file 3 "c:\\users\\pierre-anthony\\.vscode\\extensions\\buzzyelectronics.stm-helper-1.2.9\\armgcc
 452              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 453              		.file 5 "Drivers/CMSIS/Device/ST/STM32F3xx/Include/system_stm32f3xx.h"
 454              		.file 6 "Drivers/CMSIS/Device/ST/STM32F3xx/Include/stm32f302x8.h"
 455              		.file 7 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_def.h"
 456              		.file 8 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_dma.h"
 457              		.file 9 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_uart.h"
 458              		.file 10 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal.h"
 459              		.file 11 "Core/Inc/usart.h"
 460              		.file 12 "c:\\users\\pierre-anthony\\.vscode\\extensions\\buzzyelectronics.stm-helper-1.2.9\\armgc
 461              		.file 13 "c:\\users\\pierre-anthony\\.vscode\\extensions\\buzzyelectronics.stm-helper-1.2.9\\armgc
 462              		.file 14 "c:\\users\\pierre-anthony\\.vscode\\extensions\\buzzyelectronics.stm-helper-1.2.9\\armgc
 463              		.file 15 "c:\\users\\pierre-anthony\\.vscode\\extensions\\buzzyelectronics.stm-helper-1.2.9\\armgc
 464              		.file 16 "Core/Inc/ld06.h"
ARM GAS  C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s 			page 14


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ld06.c
C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s:21     .text.readLidarData:0000000000000000 $t
C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s:29     .text.readLidarData:0000000000000000 readLidarData
C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s:66     .text.readLidarData:000000000000001a $d
C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s:348    .text.readLidarData:0000000000000148 $d
C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s:354    .text.CalCRC8:0000000000000000 $t
C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s:361    .text.CalCRC8:0000000000000000 CalCRC8
C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s:423    .text.CalCRC8:0000000000000024 $d
C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s:428    .rodata.CrcTable:0000000000000000 $d
C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s:432    .rodata.CrcTable:0000000000000000 CrcTable
C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s:77     .text.readLidarData:0000000000000025 $d
C:\Users\PIERRE~1\AppData\Local\Temp\ccIhG4b8.s:77     .text.readLidarData:0000000000000026 $t

UNDEFINED SYMBOLS
__aeabi_i2d
__aeabi_dmul
__aeabi_d2f
