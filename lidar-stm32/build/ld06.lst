ARM GAS  C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"ld06.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.global	__aeabi_i2d
  18              		.global	__aeabi_dmul
  19              		.global	__aeabi_d2f
  20              		.section	.text.readLidarData,"ax",%progbits
  21              		.align	1
  22              		.global	readLidarData
  23              		.arch armv7e-m
  24              		.syntax unified
  25              		.thumb
  26              		.thumb_func
  27              		.fpu fpv4-sp-d16
  29              	readLidarData:
  30              	.LVL0:
  31              	.LFB123:
  32              		.file 1 "Core/Src/ld06.c"
   1:Core/Src/ld06.c **** #include "main.h"
   2:Core/Src/ld06.c **** 
   3:Core/Src/ld06.c **** 
   4:Core/Src/ld06.c **** void readLidarData(UART_HandleTypeDef *huart,LD06 *lidar){
  33              		.loc 1 4 58 view -0
  34              		.cfi_startproc
  35              		@ args = 0, pretend = 0, frame = 8
  36              		@ frame_needed = 0, uses_anonymous_args = 0
  37              		.loc 1 4 58 is_stmt 0 view .LVU1
  38 0000 30B5     		push	{r4, r5, lr}
  39              	.LCFI0:
  40              		.cfi_def_cfa_offset 12
  41              		.cfi_offset 4, -12
  42              		.cfi_offset 5, -8
  43              		.cfi_offset 14, -4
  44 0002 83B0     		sub	sp, sp, #12
  45              	.LCFI1:
  46              		.cfi_def_cfa_offset 24
  47 0004 0C46     		mov	r4, r1
   5:Core/Src/ld06.c ****     uint8_t *buffer = 0;
  48              		.loc 1 5 5 is_stmt 1 view .LVU2
  49              		.loc 1 5 14 is_stmt 0 view .LVU3
  50 0006 0021     		movs	r1, #0
  51              	.LVL1:
  52              		.loc 1 5 14 view .LVU4
  53 0008 0191     		str	r1, [sp, #4]
ARM GAS  C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s 			page 2


   6:Core/Src/ld06.c ****     uint8_t datalen=0;
  54              		.loc 1 6 5 is_stmt 1 view .LVU5
  55              	.LVL2:
   7:Core/Src/ld06.c ****     HAL_UART_Receive_DMA(huart,buffer,8);
  56              		.loc 1 7 5 view .LVU6
  57 000a 0822     		movs	r2, #8
  58 000c FFF7FEFF 		bl	HAL_UART_Receive_DMA
  59              	.LVL3:
   8:Core/Src/ld06.c **** 
   9:Core/Src/ld06.c ****     if(buffer==0x54)//SOF
  60              		.loc 1 9 5 view .LVU7
  61              		.loc 1 9 14 is_stmt 0 view .LVU8
  62 0010 019B     		ldr	r3, [sp, #4]
  63              		.loc 1 9 7 view .LVU9
  64 0012 542B     		cmp	r3, #84
  65 0014 0BD0     		beq	.L20
  66              	.L2:
  10:Core/Src/ld06.c ****     lidar->state=0;
  11:Core/Src/ld06.c **** 
  12:Core/Src/ld06.c ****     switch (lidar->state)
  67              		.loc 1 12 5 is_stmt 1 view .LVU10
  68              		.loc 1 12 18 is_stmt 0 view .LVU11
  69 0016 2578     		ldrb	r5, [r4]	@ zero_extendqisi2
  70 0018 6B1E     		subs	r3, r5, #1
  71 001a 0A2B     		cmp	r3, #10
  72 001c 0ED8     		bhi	.L1
  73 001e DFE803F0 		tbb	[pc, r3]
  74              	.L5:
  75 0022 09       		.byte	(.L15-.L5)/2
  76 0023 0F       		.byte	(.L14-.L5)/2
  77 0024 14       		.byte	(.L13-.L5)/2
  78 0025 23       		.byte	(.L12-.L5)/2
  79 0026 28       		.byte	(.L11-.L5)/2
  80 0027 3B       		.byte	(.L10-.L5)/2
  81 0028 5D       		.byte	(.L9-.L5)/2
  82 0029 63       		.byte	(.L8-.L5)/2
  83 002a 79       		.byte	(.L7-.L5)/2
  84 002b 7F       		.byte	(.L6-.L5)/2
  85 002c 90       		.byte	(.L4-.L5)/2
  86 002d 00       		.p2align 1
  87              	.L20:
  10:Core/Src/ld06.c ****     lidar->state=0;
  88              		.loc 1 10 5 is_stmt 1 view .LVU12
  10:Core/Src/ld06.c ****     lidar->state=0;
  89              		.loc 1 10 17 is_stmt 0 view .LVU13
  90 002e 0023     		movs	r3, #0
  91 0030 2370     		strb	r3, [r4]
  92 0032 F0E7     		b	.L2
  93              	.L15:
  13:Core/Src/ld06.c ****     {
  14:Core/Src/ld06.c ****     case 1://data length
  15:Core/Src/ld06.c ****         lidar->dataLength = &buffer;
  94              		.loc 1 15 9 is_stmt 1 view .LVU14
  95              		.loc 1 15 27 is_stmt 0 view .LVU15
  96 0034 01AB     		add	r3, sp, #4
  97 0036 6360     		str	r3, [r4, #4]
  16:Core/Src/ld06.c ****         lidar->state++;
ARM GAS  C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s 			page 3


  98              		.loc 1 16 9 is_stmt 1 view .LVU16
  99              		.loc 1 16 21 is_stmt 0 view .LVU17
 100 0038 0135     		adds	r5, r5, #1
 101 003a 2570     		strb	r5, [r4]
  17:Core/Src/ld06.c ****         break;
 102              		.loc 1 17 9 is_stmt 1 view .LVU18
 103              	.LVL4:
 104              	.L1:
  18:Core/Src/ld06.c ****     case 2:// radarspeed lsb
  19:Core/Src/ld06.c ****         lidar->radarSpeedL = buffer;
  20:Core/Src/ld06.c ****         lidar->state++;
  21:Core/Src/ld06.c ****         break;
  22:Core/Src/ld06.c ****     case 3://radarspeed msb
  23:Core/Src/ld06.c ****         lidar->radarSpeedH = &buffer;
  24:Core/Src/ld06.c ****         lidar->radarSpeed= lidar->radarSpeedH <<8 + lidar->radarSpeedL;
  25:Core/Src/ld06.c ****         lidar->state++;
  26:Core/Src/ld06.c ****         break;
  27:Core/Src/ld06.c ****     case 4:// starting angle lsb
  28:Core/Src/ld06.c ****         lidar->startAngleL = buffer;
  29:Core/Src/ld06.c ****         lidar->state++;
  30:Core/Src/ld06.c ****         break;
  31:Core/Src/ld06.c ****     case 5: //starting angle msb
  32:Core/Src/ld06.c ****         lidar->startAngleH = buffer;
  33:Core/Src/ld06.c ****         lidar->startAngle = (lidar->startAngleH<<8 + lidar->startAngleL) * 0.01;
  34:Core/Src/ld06.c ****         lidar->state++;
  35:Core/Src/ld06.c ****         break;
  36:Core/Src/ld06.c ****     case 6: //distance
  37:Core/Src/ld06.c ****         if(lidar->dataLength!=datalen){
  38:Core/Src/ld06.c ****             lidar->data[datalen]=buffer;
  39:Core/Src/ld06.c ****             datalen++;
  40:Core/Src/ld06.c ****             break;
  41:Core/Src/ld06.c ****         }
  42:Core/Src/ld06.c ****         for(uint8_t i =0;i<lidar->dataLength*3;i++){ // a voir si Ã§a marche
  43:Core/Src/ld06.c ****             lidar->distance= lidar->data[i] + lidar->data[i+1]<<8;
  44:Core/Src/ld06.c ****             lidar->confidence = lidar->data[i+2];
  45:Core/Src/ld06.c ****         }
  46:Core/Src/ld06.c ****         lidar->state++;
  47:Core/Src/ld06.c ****         break;
  48:Core/Src/ld06.c ****     case 7: //end angle lsb
  49:Core/Src/ld06.c ****         lidar->endAngleL = buffer;
  50:Core/Src/ld06.c ****         lidar->state++;
  51:Core/Src/ld06.c ****         break;
  52:Core/Src/ld06.c ****     case 8: //end angle msb
  53:Core/Src/ld06.c ****         lidar->endAngleM= buffer;
  54:Core/Src/ld06.c ****         lidar->endAngle = (lidar->endAngleM << 8 + lidar->endAngleL) * 0.01;
  55:Core/Src/ld06.c ****         lidar->state++;
  56:Core/Src/ld06.c ****         break;
  57:Core/Src/ld06.c ****     case 9: //timestamp Lsb
  58:Core/Src/ld06.c ****         lidar->timestampL = buffer;
  59:Core/Src/ld06.c ****         lidar->state++;
  60:Core/Src/ld06.c ****         break;
  61:Core/Src/ld06.c ****     case 10: //timestamp Msb
  62:Core/Src/ld06.c ****         lidar->timestampM = buffer;
  63:Core/Src/ld06.c ****         lidar->timestamp = (lidar->timestampM<<8 + lidar->timestampL);
  64:Core/Src/ld06.c ****         lidar->state++;
  65:Core/Src/ld06.c ****         break;
  66:Core/Src/ld06.c ****     case 11: //crc
ARM GAS  C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s 			page 4


  67:Core/Src/ld06.c ****         lidar->crcCheck = buffer;
  68:Core/Src/ld06.c ****         //uint8_t crc = CalCRC8(lidar->crcCheck,lidar->dataLength); 
  69:Core/Src/ld06.c ****         //crc not working
  70:Core/Src/ld06.c ****         
  71:Core/Src/ld06.c ****         lidar->state++;
  72:Core/Src/ld06.c ****         break;
  73:Core/Src/ld06.c ****     }
  74:Core/Src/ld06.c **** 
  75:Core/Src/ld06.c **** 
  76:Core/Src/ld06.c **** 
  77:Core/Src/ld06.c **** }
 105              		.loc 1 77 1 is_stmt 0 view .LVU19
 106 003c 03B0     		add	sp, sp, #12
 107              	.LCFI2:
 108              		.cfi_remember_state
 109              		.cfi_def_cfa_offset 12
 110              		@ sp needed
 111 003e 30BD     		pop	{r4, r5, pc}
 112              	.LVL5:
 113              	.L14:
 114              	.LCFI3:
 115              		.cfi_restore_state
  19:Core/Src/ld06.c ****         lidar->state++;
 116              		.loc 1 19 9 is_stmt 1 view .LVU20
  19:Core/Src/ld06.c ****         lidar->state++;
 117              		.loc 1 19 28 is_stmt 0 view .LVU21
 118 0040 019B     		ldr	r3, [sp, #4]
 119 0042 2373     		strb	r3, [r4, #12]
  20:Core/Src/ld06.c ****         break;
 120              		.loc 1 20 9 is_stmt 1 view .LVU22
  20:Core/Src/ld06.c ****         break;
 121              		.loc 1 20 21 is_stmt 0 view .LVU23
 122 0044 0135     		adds	r5, r5, #1
 123 0046 2570     		strb	r5, [r4]
  21:Core/Src/ld06.c ****     case 3://radarspeed msb
 124              		.loc 1 21 9 is_stmt 1 view .LVU24
 125 0048 F8E7     		b	.L1
 126              	.L13:
  23:Core/Src/ld06.c ****         lidar->radarSpeed= lidar->radarSpeedH <<8 + lidar->radarSpeedL;
 127              		.loc 1 23 9 view .LVU25
  23:Core/Src/ld06.c ****         lidar->radarSpeed= lidar->radarSpeedH <<8 + lidar->radarSpeedL;
 128              		.loc 1 23 28 is_stmt 0 view .LVU26
 129 004a 01AB     		add	r3, sp, #4
 130 004c DBB2     		uxtb	r3, r3
 131 004e 6373     		strb	r3, [r4, #13]
  24:Core/Src/ld06.c ****         lidar->state++;
 132              		.loc 1 24 9 is_stmt 1 view .LVU27
  24:Core/Src/ld06.c ****         lidar->state++;
 133              		.loc 1 24 58 is_stmt 0 view .LVU28
 134 0050 227B     		ldrb	r2, [r4, #12]	@ zero_extendqisi2
  24:Core/Src/ld06.c ****         lidar->state++;
 135              		.loc 1 24 51 view .LVU29
 136 0052 0832     		adds	r2, r2, #8
  24:Core/Src/ld06.c ****         lidar->state++;
 137              		.loc 1 24 47 view .LVU30
 138 0054 9340     		lsls	r3, r3, r2
  24:Core/Src/ld06.c ****         lidar->state++;
ARM GAS  C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s 			page 5


 139              		.loc 1 24 26 view .LVU31
 140 0056 07EE903A 		vmov	s15, r3	@ int
 141 005a F8EEE77A 		vcvt.f32.s32	s15, s15
 142 005e C4ED027A 		vstr.32	s15, [r4, #8]
  25:Core/Src/ld06.c ****         break;
 143              		.loc 1 25 9 is_stmt 1 view .LVU32
  25:Core/Src/ld06.c ****         break;
 144              		.loc 1 25 21 is_stmt 0 view .LVU33
 145 0062 0135     		adds	r5, r5, #1
 146 0064 2570     		strb	r5, [r4]
  26:Core/Src/ld06.c ****     case 4:// starting angle lsb
 147              		.loc 1 26 9 is_stmt 1 view .LVU34
 148 0066 E9E7     		b	.L1
 149              	.L12:
  28:Core/Src/ld06.c ****         lidar->state++;
 150              		.loc 1 28 9 view .LVU35
  28:Core/Src/ld06.c ****         lidar->state++;
 151              		.loc 1 28 28 is_stmt 0 view .LVU36
 152 0068 019B     		ldr	r3, [sp, #4]
 153 006a 2375     		strb	r3, [r4, #20]
  29:Core/Src/ld06.c ****         break;
 154              		.loc 1 29 9 is_stmt 1 view .LVU37
  29:Core/Src/ld06.c ****         break;
 155              		.loc 1 29 21 is_stmt 0 view .LVU38
 156 006c 0135     		adds	r5, r5, #1
 157 006e 2570     		strb	r5, [r4]
  30:Core/Src/ld06.c ****     case 5: //starting angle msb
 158              		.loc 1 30 9 is_stmt 1 view .LVU39
 159 0070 E4E7     		b	.L1
 160              	.L11:
  32:Core/Src/ld06.c ****         lidar->startAngle = (lidar->startAngleH<<8 + lidar->startAngleL) * 0.01;
 161              		.loc 1 32 9 view .LVU40
  32:Core/Src/ld06.c ****         lidar->startAngle = (lidar->startAngleH<<8 + lidar->startAngleL) * 0.01;
 162              		.loc 1 32 28 is_stmt 0 view .LVU41
 163 0072 9DF80400 		ldrb	r0, [sp, #4]	@ zero_extendqisi2
 164 0076 6075     		strb	r0, [r4, #21]
  33:Core/Src/ld06.c ****         lidar->state++;
 165              		.loc 1 33 9 is_stmt 1 view .LVU42
  33:Core/Src/ld06.c ****         lidar->state++;
 166              		.loc 1 33 59 is_stmt 0 view .LVU43
 167 0078 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
  33:Core/Src/ld06.c ****         lidar->state++;
 168              		.loc 1 33 52 view .LVU44
 169 007a 0833     		adds	r3, r3, #8
  33:Core/Src/ld06.c ****         lidar->state++;
 170              		.loc 1 33 74 view .LVU45
 171 007c 9840     		lsls	r0, r0, r3
 172 007e FFF7FEFF 		bl	__aeabi_i2d
 173              	.LVL6:
 174 0082 33A3     		adr	r3, .L21
 175 0084 D3E90023 		ldrd	r2, [r3]
 176 0088 FFF7FEFF 		bl	__aeabi_dmul
 177              	.LVL7:
 178 008c FFF7FEFF 		bl	__aeabi_d2f
 179              	.LVL8:
  33:Core/Src/ld06.c ****         lidar->state++;
 180              		.loc 1 33 27 view .LVU46
ARM GAS  C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s 			page 6


 181 0090 2061     		str	r0, [r4, #16]	@ float
  34:Core/Src/ld06.c ****         break;
 182              		.loc 1 34 9 is_stmt 1 view .LVU47
  34:Core/Src/ld06.c ****         break;
 183              		.loc 1 34 21 is_stmt 0 view .LVU48
 184 0092 0135     		adds	r5, r5, #1
 185 0094 2570     		strb	r5, [r4]
  35:Core/Src/ld06.c ****     case 6: //distance
 186              		.loc 1 35 9 is_stmt 1 view .LVU49
 187 0096 D1E7     		b	.L1
 188              	.L10:
  37:Core/Src/ld06.c ****             lidar->data[datalen]=buffer;
 189              		.loc 1 37 9 view .LVU50
  37:Core/Src/ld06.c ****             lidar->data[datalen]=buffer;
 190              		.loc 1 37 17 is_stmt 0 view .LVU51
 191 0098 6068     		ldr	r0, [r4, #4]
  37:Core/Src/ld06.c ****             lidar->data[datalen]=buffer;
 192              		.loc 1 37 11 view .LVU52
 193 009a E8B1     		cbz	r0, .L18
  38:Core/Src/ld06.c ****             datalen++;
 194              		.loc 1 38 13 is_stmt 1 view .LVU53
  38:Core/Src/ld06.c ****             datalen++;
 195              		.loc 1 38 33 is_stmt 0 view .LVU54
 196 009c 019B     		ldr	r3, [sp, #4]
 197 009e 2377     		strb	r3, [r4, #28]
  39:Core/Src/ld06.c ****             break;
 198              		.loc 1 39 13 is_stmt 1 view .LVU55
 199              	.LVL9:
  40:Core/Src/ld06.c ****         }
 200              		.loc 1 40 13 view .LVU56
 201 00a0 CCE7     		b	.L1
 202              	.LVL10:
 203              	.L17:
 204              	.LBB2:
  43:Core/Src/ld06.c ****             lidar->confidence = lidar->data[i+2];
 205              		.loc 1 43 13 discriminator 3 view .LVU57
  43:Core/Src/ld06.c ****             lidar->confidence = lidar->data[i+2];
 206              		.loc 1 43 41 is_stmt 0 discriminator 3 view .LVU58
 207 00a2 E218     		adds	r2, r4, r3
 208 00a4 127F     		ldrb	r2, [r2, #28]	@ zero_extendqisi2
  43:Core/Src/ld06.c ****             lidar->confidence = lidar->data[i+2];
 209              		.loc 1 43 60 discriminator 3 view .LVU59
 210 00a6 591C     		adds	r1, r3, #1
  43:Core/Src/ld06.c ****             lidar->confidence = lidar->data[i+2];
 211              		.loc 1 43 58 discriminator 3 view .LVU60
 212 00a8 2144     		add	r1, r1, r4
 213 00aa 097F     		ldrb	r1, [r1, #28]	@ zero_extendqisi2
  43:Core/Src/ld06.c ****             lidar->confidence = lidar->data[i+2];
 214              		.loc 1 43 45 discriminator 3 view .LVU61
 215 00ac 0A44     		add	r2, r2, r1
  43:Core/Src/ld06.c ****             lidar->confidence = lidar->data[i+2];
 216              		.loc 1 43 63 discriminator 3 view .LVU62
 217 00ae 1202     		lsls	r2, r2, #8
  43:Core/Src/ld06.c ****             lidar->confidence = lidar->data[i+2];
 218              		.loc 1 43 28 discriminator 3 view .LVU63
 219 00b0 07EE902A 		vmov	s15, r2	@ int
 220 00b4 F8EEE77A 		vcvt.f32.s32	s15, s15
ARM GAS  C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s 			page 7


 221 00b8 C4ED067A 		vstr.32	s15, [r4, #24]
  44:Core/Src/ld06.c ****         }
 222              		.loc 1 44 13 is_stmt 1 discriminator 3 view .LVU64
  44:Core/Src/ld06.c ****         }
 223              		.loc 1 44 46 is_stmt 0 discriminator 3 view .LVU65
 224 00bc 9A1C     		adds	r2, r3, #2
  44:Core/Src/ld06.c ****         }
 225              		.loc 1 44 44 discriminator 3 view .LVU66
 226 00be 2244     		add	r2, r2, r4
 227 00c0 127F     		ldrb	r2, [r2, #28]	@ zero_extendqisi2
  44:Core/Src/ld06.c ****         }
 228              		.loc 1 44 31 discriminator 3 view .LVU67
 229 00c2 84F88020 		strb	r2, [r4, #128]
  42:Core/Src/ld06.c ****             lidar->distance= lidar->data[i] + lidar->data[i+1]<<8;
 230              		.loc 1 42 48 is_stmt 1 discriminator 3 view .LVU68
  42:Core/Src/ld06.c ****             lidar->distance= lidar->data[i] + lidar->data[i+1]<<8;
 231              		.loc 1 42 49 is_stmt 0 discriminator 3 view .LVU69
 232 00c6 0133     		adds	r3, r3, #1
 233              	.LVL11:
  42:Core/Src/ld06.c ****             lidar->distance= lidar->data[i] + lidar->data[i+1]<<8;
 234              		.loc 1 42 49 discriminator 3 view .LVU70
 235 00c8 DBB2     		uxtb	r3, r3
 236              	.LVL12:
 237              	.L16:
  42:Core/Src/ld06.c ****             lidar->distance= lidar->data[i] + lidar->data[i+1]<<8;
 238              		.loc 1 42 26 is_stmt 1 discriminator 1 view .LVU71
  42:Core/Src/ld06.c ****             lidar->distance= lidar->data[i] + lidar->data[i+1]<<8;
 239              		.loc 1 42 45 is_stmt 0 discriminator 1 view .LVU72
 240 00ca 00EB4002 		add	r2, r0, r0, lsl #1
  42:Core/Src/ld06.c ****             lidar->distance= lidar->data[i] + lidar->data[i+1]<<8;
 241              		.loc 1 42 9 discriminator 1 view .LVU73
 242 00ce 9342     		cmp	r3, r2
 243 00d0 E7DB     		blt	.L17
 244              	.LBE2:
  46:Core/Src/ld06.c ****         break;
 245              		.loc 1 46 9 is_stmt 1 view .LVU74
  46:Core/Src/ld06.c ****         break;
 246              		.loc 1 46 21 is_stmt 0 view .LVU75
 247 00d2 0135     		adds	r5, r5, #1
 248 00d4 2570     		strb	r5, [r4]
  47:Core/Src/ld06.c ****     case 7: //end angle lsb
 249              		.loc 1 47 9 is_stmt 1 view .LVU76
 250 00d6 B1E7     		b	.L1
 251              	.LVL13:
 252              	.L18:
 253              	.LBB3:
  42:Core/Src/ld06.c ****             lidar->distance= lidar->data[i] + lidar->data[i+1]<<8;
 254              		.loc 1 42 21 is_stmt 0 view .LVU77
 255 00d8 0023     		movs	r3, #0
 256 00da F6E7     		b	.L16
 257              	.L9:
  42:Core/Src/ld06.c ****             lidar->distance= lidar->data[i] + lidar->data[i+1]<<8;
 258              		.loc 1 42 21 view .LVU78
 259              	.LBE3:
  49:Core/Src/ld06.c ****         lidar->state++;
 260              		.loc 1 49 9 is_stmt 1 view .LVU79
  49:Core/Src/ld06.c ****         lidar->state++;
ARM GAS  C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s 			page 8


 261              		.loc 1 49 26 is_stmt 0 view .LVU80
 262 00dc 019B     		ldr	r3, [sp, #4]
 263 00de 84F88830 		strb	r3, [r4, #136]
  50:Core/Src/ld06.c ****         break;
 264              		.loc 1 50 9 is_stmt 1 view .LVU81
  50:Core/Src/ld06.c ****         break;
 265              		.loc 1 50 21 is_stmt 0 view .LVU82
 266 00e2 0135     		adds	r5, r5, #1
 267 00e4 2570     		strb	r5, [r4]
  51:Core/Src/ld06.c ****     case 8: //end angle msb
 268              		.loc 1 51 9 is_stmt 1 view .LVU83
 269 00e6 A9E7     		b	.L1
 270              	.L8:
  53:Core/Src/ld06.c ****         lidar->endAngle = (lidar->endAngleM << 8 + lidar->endAngleL) * 0.01;
 271              		.loc 1 53 9 view .LVU84
  53:Core/Src/ld06.c ****         lidar->endAngle = (lidar->endAngleM << 8 + lidar->endAngleL) * 0.01;
 272              		.loc 1 53 25 is_stmt 0 view .LVU85
 273 00e8 9DF80400 		ldrb	r0, [sp, #4]	@ zero_extendqisi2
 274 00ec 84F88900 		strb	r0, [r4, #137]
  54:Core/Src/ld06.c ****         lidar->state++;
 275              		.loc 1 54 9 is_stmt 1 view .LVU86
  54:Core/Src/ld06.c ****         lidar->state++;
 276              		.loc 1 54 57 is_stmt 0 view .LVU87
 277 00f0 94F88830 		ldrb	r3, [r4, #136]	@ zero_extendqisi2
  54:Core/Src/ld06.c ****         lidar->state++;
 278              		.loc 1 54 50 view .LVU88
 279 00f4 0833     		adds	r3, r3, #8
  54:Core/Src/ld06.c ****         lidar->state++;
 280              		.loc 1 54 70 view .LVU89
 281 00f6 9840     		lsls	r0, r0, r3
 282 00f8 FFF7FEFF 		bl	__aeabi_i2d
 283              	.LVL14:
 284 00fc 14A3     		adr	r3, .L21
 285 00fe D3E90023 		ldrd	r2, [r3]
 286 0102 FFF7FEFF 		bl	__aeabi_dmul
 287              	.LVL15:
 288 0106 FFF7FEFF 		bl	__aeabi_d2f
 289              	.LVL16:
  54:Core/Src/ld06.c ****         lidar->state++;
 290              		.loc 1 54 25 view .LVU90
 291 010a C4F88400 		str	r0, [r4, #132]	@ float
  55:Core/Src/ld06.c ****         break;
 292              		.loc 1 55 9 is_stmt 1 view .LVU91
  55:Core/Src/ld06.c ****         break;
 293              		.loc 1 55 21 is_stmt 0 view .LVU92
 294 010e 0135     		adds	r5, r5, #1
 295 0110 2570     		strb	r5, [r4]
  56:Core/Src/ld06.c ****     case 9: //timestamp Lsb
 296              		.loc 1 56 9 is_stmt 1 view .LVU93
 297 0112 93E7     		b	.L1
 298              	.L7:
  58:Core/Src/ld06.c ****         lidar->state++;
 299              		.loc 1 58 9 view .LVU94
  58:Core/Src/ld06.c ****         lidar->state++;
 300              		.loc 1 58 27 is_stmt 0 view .LVU95
 301 0114 019B     		ldr	r3, [sp, #4]
 302 0116 84F89030 		strb	r3, [r4, #144]
ARM GAS  C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s 			page 9


  59:Core/Src/ld06.c ****         break;
 303              		.loc 1 59 9 is_stmt 1 view .LVU96
  59:Core/Src/ld06.c ****         break;
 304              		.loc 1 59 21 is_stmt 0 view .LVU97
 305 011a 0135     		adds	r5, r5, #1
 306 011c 2570     		strb	r5, [r4]
  60:Core/Src/ld06.c ****     case 10: //timestamp Msb
 307              		.loc 1 60 9 is_stmt 1 view .LVU98
 308 011e 8DE7     		b	.L1
 309              	.L6:
  62:Core/Src/ld06.c ****         lidar->timestamp = (lidar->timestampM<<8 + lidar->timestampL);
 310              		.loc 1 62 9 view .LVU99
  62:Core/Src/ld06.c ****         lidar->timestamp = (lidar->timestampM<<8 + lidar->timestampL);
 311              		.loc 1 62 27 is_stmt 0 view .LVU100
 312 0120 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 313 0124 84F89130 		strb	r3, [r4, #145]
  63:Core/Src/ld06.c ****         lidar->state++;
 314              		.loc 1 63 9 is_stmt 1 view .LVU101
  63:Core/Src/ld06.c ****         lidar->state++;
 315              		.loc 1 63 57 is_stmt 0 view .LVU102
 316 0128 94F89020 		ldrb	r2, [r4, #144]	@ zero_extendqisi2
  63:Core/Src/ld06.c ****         lidar->state++;
 317              		.loc 1 63 50 view .LVU103
 318 012c 0832     		adds	r2, r2, #8
  63:Core/Src/ld06.c ****         lidar->state++;
 319              		.loc 1 63 46 view .LVU104
 320 012e 9340     		lsls	r3, r3, r2
  63:Core/Src/ld06.c ****         lidar->state++;
 321              		.loc 1 63 26 view .LVU105
 322 0130 07EE903A 		vmov	s15, r3	@ int
 323 0134 F8EEE77A 		vcvt.f32.s32	s15, s15
 324 0138 C4ED237A 		vstr.32	s15, [r4, #140]
  64:Core/Src/ld06.c ****         break;
 325              		.loc 1 64 9 is_stmt 1 view .LVU106
  64:Core/Src/ld06.c ****         break;
 326              		.loc 1 64 21 is_stmt 0 view .LVU107
 327 013c 0135     		adds	r5, r5, #1
 328 013e 2570     		strb	r5, [r4]
  65:Core/Src/ld06.c ****     case 11: //crc
 329              		.loc 1 65 9 is_stmt 1 view .LVU108
 330 0140 7CE7     		b	.L1
 331              	.L4:
  67:Core/Src/ld06.c ****         //uint8_t crc = CalCRC8(lidar->crcCheck,lidar->dataLength); 
 332              		.loc 1 67 9 view .LVU109
  67:Core/Src/ld06.c ****         //uint8_t crc = CalCRC8(lidar->crcCheck,lidar->dataLength); 
 333              		.loc 1 67 25 is_stmt 0 view .LVU110
 334 0142 019B     		ldr	r3, [sp, #4]
 335 0144 C4F89430 		str	r3, [r4, #148]
  71:Core/Src/ld06.c ****         break;
 336              		.loc 1 71 9 is_stmt 1 view .LVU111
  71:Core/Src/ld06.c ****         break;
 337              		.loc 1 71 21 is_stmt 0 view .LVU112
 338 0148 0135     		adds	r5, r5, #1
 339 014a 2570     		strb	r5, [r4]
  72:Core/Src/ld06.c ****     }
 340              		.loc 1 72 9 is_stmt 1 view .LVU113
 341              		.loc 1 77 1 is_stmt 0 view .LVU114
ARM GAS  C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s 			page 10


 342 014c 76E7     		b	.L1
 343              	.L22:
 344 014e 00BF     		.align	3
 345              	.L21:
 346 0150 7B14AE47 		.word	1202590843
 347 0154 E17A843F 		.word	1065646817
 348              		.cfi_endproc
 349              	.LFE123:
 351              		.section	.text.CalCRC8,"ax",%progbits
 352              		.align	1
 353              		.global	CalCRC8
 354              		.syntax unified
 355              		.thumb
 356              		.thumb_func
 357              		.fpu fpv4-sp-d16
 359              	CalCRC8:
 360              	.LVL17:
 361              	.LFB124:
  78:Core/Src/ld06.c **** 
  79:Core/Src/ld06.c **** 
  80:Core/Src/ld06.c **** 
  81:Core/Src/ld06.c **** 
  82:Core/Src/ld06.c **** 
  83:Core/Src/ld06.c **** static const uint8_t CrcTable[256] = 
  84:Core/Src/ld06.c **** { 
  85:Core/Src/ld06.c ****         0x00, 0x4d, 0x9a, 0xd7, 0x79, 0x34, 0xe3, 
  86:Core/Src/ld06.c ****         0xae, 0xf2, 0xbf, 0x68, 0x25, 0x8b, 0xc6, 0x11, 0x5c, 0xa9, 0xe4, 0x33, 
  87:Core/Src/ld06.c ****         0x7e, 0xd0, 0x9d, 0x4a, 0x07, 0x5b, 0x16, 0xc1, 0x8c, 0x22, 0x6f, 0xb8, 
  88:Core/Src/ld06.c ****         0xf5, 0x1f, 0x52, 0x85, 0xc8, 0x66, 0x2b, 0xfc, 0xb1, 0xed, 0xa0, 0x77, 
  89:Core/Src/ld06.c ****         0x3a, 0x94, 0xd9, 0x0e, 0x43, 0xb6, 0xfb, 0x2c, 0x61, 0xcf, 0x82, 0x55, 
  90:Core/Src/ld06.c ****         0x18, 0x44, 0x09, 0xde, 0x93, 0x3d, 0x70, 0xa7, 0xea, 0x3e, 0x73, 0xa4, 
  91:Core/Src/ld06.c ****         0xe9, 0x47, 0x0a, 0xdd, 0x90, 0xcc, 0x81, 0x56, 0x1b, 0xb5, 0xf8, 0x2f, 
  92:Core/Src/ld06.c ****         0x62, 0x97, 0xda, 0x0d, 0x40, 0xee, 0xa3, 0x74, 0x39, 0x65, 0x28, 0xff, 
  93:Core/Src/ld06.c ****         0xb2, 0x1c, 0x51, 0x86, 0xcb, 0x21, 0x6c, 0xbb, 0xf6, 0x58, 0x15, 0xc2, 
  94:Core/Src/ld06.c ****         0x8f, 0xd3, 0x9e, 0x49, 0x04, 0xaa, 0xe7, 0x30, 0x7d, 0x88, 0xc5, 0x12, 
  95:Core/Src/ld06.c ****         0x5f, 0xf1, 0xbc, 0x6b, 0x26, 0x7a, 0x37, 0xe0, 0xad, 0x03, 0x4e, 0x99, 
  96:Core/Src/ld06.c ****         0xd4, 0x7c, 0x31, 0xe6, 0xab, 0x05, 0x48, 0x9f, 0xd2, 0x8e, 0xc3, 0x14, 
  97:Core/Src/ld06.c ****         0x59, 0xf7, 0xba, 0x6d, 0x20, 0xd5, 0x98, 0x4f, 0x02, 0xac, 0xe1, 0x36, 
  98:Core/Src/ld06.c ****         0x7b, 0x27, 0x6a, 0xbd, 0xf0, 0x5e, 0x13, 0xc4, 0x89, 0x63, 0x2e, 0xf9, 
  99:Core/Src/ld06.c ****         0xb4, 0x1a, 0x57, 0x80, 0xcd, 0x91, 0xdc, 0x0b, 0x46, 0xe8, 0xa5, 0x72, 
 100:Core/Src/ld06.c ****         0x3f, 0xca, 0x87, 0x50, 0x1d, 0xb3, 0xfe, 0x29, 0x64, 0x38, 0x75, 0xa2, 
 101:Core/Src/ld06.c ****         0xef, 0x41, 0x0c, 0xdb, 0x96, 0x42, 0x0f, 0xd8, 0x95, 0x3b, 0x76, 0xa1, 
 102:Core/Src/ld06.c ****         0xec, 0xb0, 0xfd, 0x2a, 0x67, 0xc9, 0x84, 0x53, 0x1e, 0xeb, 0xa6, 0x71, 
 103:Core/Src/ld06.c ****         0x3c, 0x92, 0xdf, 0x08, 0x45, 0x19, 0x54, 0x83, 0xce, 0x60, 0x2d, 0xfa, 
 104:Core/Src/ld06.c ****         0xb7, 0x5d, 0x10, 0xc7, 0x8a, 0x24, 0x69, 0xbe, 0xf3, 0xaf, 0xe2, 0x35, 
 105:Core/Src/ld06.c ****         0x78, 0xd6, 0x9b, 0x4c, 0x01, 0xf4, 0xb9, 0x6e, 0x23, 0x8d, 0xc0, 0x17, 
 106:Core/Src/ld06.c ****         0x5a, 0x06, 0x4b, 0x9c, 0xd1, 0x7f, 0x32, 0xe5, 0xa8 
 107:Core/Src/ld06.c **** }; 
 108:Core/Src/ld06.c **** uint8_t CalCRC8(uint8_t *p, uint8_t len) 
 109:Core/Src/ld06.c **** { 
 362              		.loc 1 109 1 is_stmt 1 view -0
 363              		.cfi_startproc
 364              		@ args = 0, pretend = 0, frame = 0
 365              		@ frame_needed = 0, uses_anonymous_args = 0
 366              		@ link register save eliminated.
 367              		.loc 1 109 1 is_stmt 0 view .LVU116
 368 0000 10B4     		push	{r4}
ARM GAS  C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s 			page 11


 369              	.LCFI4:
 370              		.cfi_def_cfa_offset 4
 371              		.cfi_offset 4, -4
 372 0002 0346     		mov	r3, r0
 110:Core/Src/ld06.c ****         uint8_t crc = 0; 
 373              		.loc 1 110 9 is_stmt 1 view .LVU117
 374              	.LVL18:
 111:Core/Src/ld06.c ****         uint16_t i; 
 375              		.loc 1 111 9 view .LVU118
 112:Core/Src/ld06.c ****  
 113:Core/Src/ld06.c ****         for (i = 0; i < len; i++) 
 376              		.loc 1 113 9 view .LVU119
 377              		.loc 1 113 16 is_stmt 0 view .LVU120
 378 0004 0022     		movs	r2, #0
 110:Core/Src/ld06.c ****         uint16_t i; 
 379              		.loc 1 110 17 view .LVU121
 380 0006 1046     		mov	r0, r2
 381              	.LVL19:
 382              	.L24:
 383              		.loc 1 113 21 is_stmt 1 discriminator 1 view .LVU122
 384              		.loc 1 113 23 is_stmt 0 discriminator 1 view .LVU123
 385 0008 8CB2     		uxth	r4, r1
 386              		.loc 1 113 9 discriminator 1 view .LVU124
 387 000a 9442     		cmp	r4, r2
 388 000c 07D9     		bls	.L27
 114:Core/Src/ld06.c ****         { 
 115:Core/Src/ld06.c ****                 crc = CrcTable[(crc ^ *p++) & 0xff]; 
 389              		.loc 1 115 17 is_stmt 1 discriminator 3 view .LVU125
 390              	.LVL20:
 391              		.loc 1 115 39 is_stmt 0 discriminator 3 view .LVU126
 392 000e 13F8014B 		ldrb	r4, [r3], #1	@ zero_extendqisi2
 393              	.LVL21:
 394              		.loc 1 115 45 discriminator 3 view .LVU127
 395 0012 4440     		eors	r4, r4, r0
 396              		.loc 1 115 21 discriminator 3 view .LVU128
 397 0014 0348     		ldr	r0, .L28
 398              	.LVL22:
 399              		.loc 1 115 21 discriminator 3 view .LVU129
 400 0016 005D     		ldrb	r0, [r0, r4]	@ zero_extendqisi2
 401              	.LVL23:
 113:Core/Src/ld06.c ****         { 
 402              		.loc 1 113 30 is_stmt 1 discriminator 3 view .LVU130
 113:Core/Src/ld06.c ****         { 
 403              		.loc 1 113 31 is_stmt 0 discriminator 3 view .LVU131
 404 0018 0132     		adds	r2, r2, #1
 405              	.LVL24:
 113:Core/Src/ld06.c ****         { 
 406              		.loc 1 113 31 discriminator 3 view .LVU132
 407 001a 92B2     		uxth	r2, r2
 408              	.LVL25:
 113:Core/Src/ld06.c ****         { 
 409              		.loc 1 113 31 discriminator 3 view .LVU133
 410 001c F4E7     		b	.L24
 411              	.L27:
 116:Core/Src/ld06.c ****         } 
 117:Core/Src/ld06.c ****  
 118:Core/Src/ld06.c ****         return crc; 
ARM GAS  C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s 			page 12


 119:Core/Src/ld06.c **** } ...
 412              		.loc 1 119 1 view .LVU134
 413 001e 5DF8044B 		ldr	r4, [sp], #4
 414              	.LCFI5:
 415              		.cfi_restore 4
 416              		.cfi_def_cfa_offset 0
 417 0022 7047     		bx	lr
 418              	.L29:
 419              		.align	2
 420              	.L28:
 421 0024 00000000 		.word	.LANCHOR0
 422              		.cfi_endproc
 423              	.LFE124:
 425              		.section	.rodata.CrcTable,"a"
 426              		.align	2
 427              		.set	.LANCHOR0,. + 0
 430              	CrcTable:
 431 0000 004D9AD7 		.ascii	"\000M\232\327y4\343\256\362\277h%\213\306\021\\\251"
 431      7934E3AE 
 431      F2BF6825 
 431      8BC6115C 
 431      A9
 432 0011 E4337ED0 		.ascii	"\3443~\320\235J\007[\026\301\214\"o\270\365\037R\205"
 432      9D4A075B 
 432      16C18C22 
 432      6FB8F51F 
 432      5285
 433 0023 C8662BFC 		.ascii	"\310f+\374\261\355\240w:\224\331\016C\266\373,a\317"
 433      B1EDA077 
 433      3A94D90E 
 433      43B6FB2C 
 433      61CF
 434 0035 82551844 		.ascii	"\202U\030D\011\336\223=p\247\352>s\244\351G\012\335"
 434      09DE933D 
 434      70A7EA3E 
 434      73A4E947 
 434      0ADD
 435 0047 90CC8156 		.ascii	"\220\314\201V\033\265\370/b\227\332\015@\356\243t9e"
 435      1BB5F82F 
 435      6297DA0D 
 435      40EEA374 
 435      3965
 436 0059 28FFB21C 		.ascii	"(\377\262\034Q\206\313!l\273\366X\025\302\217\323\236"
 436      5186CB21 
 436      6CBBF658 
 436      15C28FD3 
 436      9E
 437 006a 4904AAE7 		.ascii	"I\004\252\3470}\210\305\022_\361\274k&z7\340\255\003"
 437      307D88C5 
 437      125FF1BC 
 437      6B267A37 
 437      E0AD03
 438 007d 4E99D47C 		.ascii	"N\231\324|1\346\253\005H\237\322\216\303\024Y\367\272"
 438      31E6AB05 
 438      489FD28E 
 438      C31459F7 
 438      BA
ARM GAS  C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s 			page 13


 439 008e 6D20D598 		.ascii	"m \325\230O\002\254\3416{'j\275\360^\023\304\211c.\371"
 439      4F02ACE1 
 439      367B276A 
 439      BDF05E13 
 439      C489632E 
 440 00a3 B41A5780 		.ascii	"\264\032W\200\315\221\334\013F\350\245r?\312\207P\035"
 440      CD91DC0B 
 440      46E8A572 
 440      3FCA8750 
 440      1D
 441 00b4 B3FE2964 		.ascii	"\263\376)d8u\242\357A\014\333\226B\017\330\225;v\241"
 441      3875A2EF 
 441      410CDB96 
 441      420FD895 
 441      3B76A1
 442 00c7 ECB0FD2A 		.ascii	"\354\260\375*g\311\204S\036\353\246q<\222\337\010E\031"
 442      67C98453 
 442      1EEBA671 
 442      3C92DF08 
 442      4519
 443 00d9 5483CE60 		.ascii	"T\203\316`-\372\267]\020\307\212$i\276\363\257\3425"
 443      2DFAB75D 
 443      10C78A24 
 443      69BEF3AF 
 443      E235
 444 00eb 78D69B4C 		.ascii	"x\326\233L\001\364\271n#\215\300\027Z\006K\234\321\177"
 444      01F4B96E 
 444      238DC017 
 444      5A064B9C 
 444      D17F
 445 00fd 32E5A8   		.ascii	"2\345\250"
 446              		.text
 447              	.Letext0:
 448              		.file 2 "c:\\users\\pierr\\.vscode\\extensions\\buzzyelectronics.stm-helper-1.2.9\\armgcc\\arm-non
 449              		.file 3 "c:\\users\\pierr\\.vscode\\extensions\\buzzyelectronics.stm-helper-1.2.9\\armgcc\\arm-non
 450              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 451              		.file 5 "Drivers/CMSIS/Device/ST/STM32F3xx/Include/system_stm32f3xx.h"
 452              		.file 6 "Drivers/CMSIS/Device/ST/STM32F3xx/Include/stm32f302x8.h"
 453              		.file 7 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_def.h"
 454              		.file 8 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_dma.h"
 455              		.file 9 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_uart.h"
 456              		.file 10 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal.h"
 457              		.file 11 "Core/Inc/usart.h"
 458              		.file 12 "c:\\users\\pierr\\.vscode\\extensions\\buzzyelectronics.stm-helper-1.2.9\\armgcc\\arm-no
 459              		.file 13 "c:\\users\\pierr\\.vscode\\extensions\\buzzyelectronics.stm-helper-1.2.9\\armgcc\\arm-no
 460              		.file 14 "c:\\users\\pierr\\.vscode\\extensions\\buzzyelectronics.stm-helper-1.2.9\\armgcc\\lib\\g
 461              		.file 15 "c:\\users\\pierr\\.vscode\\extensions\\buzzyelectronics.stm-helper-1.2.9\\armgcc\\arm-no
 462              		.file 16 "Core/Inc/ld06.h"
ARM GAS  C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s 			page 14


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ld06.c
C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s:21     .text.readLidarData:0000000000000000 $t
C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s:29     .text.readLidarData:0000000000000000 readLidarData
C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s:75     .text.readLidarData:0000000000000022 $d
C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s:346    .text.readLidarData:0000000000000150 $d
C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s:352    .text.CalCRC8:0000000000000000 $t
C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s:359    .text.CalCRC8:0000000000000000 CalCRC8
C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s:421    .text.CalCRC8:0000000000000024 $d
C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s:426    .rodata.CrcTable:0000000000000000 $d
C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s:430    .rodata.CrcTable:0000000000000000 CrcTable
C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s:86     .text.readLidarData:000000000000002d $d
C:\Users\pierr\AppData\Local\Temp\cc82ZTqd.s:86     .text.readLidarData:000000000000002e $t

UNDEFINED SYMBOLS
__aeabi_i2d
__aeabi_dmul
__aeabi_d2f
HAL_UART_Receive_DMA
